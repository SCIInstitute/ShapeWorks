
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The official documentation of ShapeWorks">
      
      
        <meta name="author" content="Shireen Elhabian et al.">
      
      
        <link rel="canonical" href="https://www.sci.utah.edu/software/shapeworks.html/6.7/workflow/groom.html">
      
      
        <link rel="prev" href="../users/papers.html">
      
      
        <link rel="next" href="optimize.html">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>How to Groom Your Dataset? - ShapeWorks</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../css/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","UA-36723568-3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","UA-36723568-3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=UA-36723568-3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-to-groom-your-dataset" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="ShapeWorks" class="md-header__button md-logo" aria-label="ShapeWorks" data-md-component="logo">
      
  <img src="../assets/shapeworks-logo-small.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ShapeWorks
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How to Groom Your Dataset?
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-4.5c5 0 9.27 3.11 11 7.5-1.73 4.39-6 7.5-11 7.5S2.73 16.39 1 12c1.73-4.39 6-7.5 11-7.5M3.18 12a9.821 9.821 0 0 0 17.64 0 9.821 9.821 0 0 0-17.64 0"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/SCIInstitute/ShapeWorks" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    SCIInstitute/ShapeWorks
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="ShapeWorks" class="md-nav__button md-logo" aria-label="ShapeWorks" data-md-component="logo">
      
  <img src="../assets/shapeworks-logo-small.png" alt="logo">

    </a>
    ShapeWorks
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/SCIInstitute/ShapeWorks" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    SCIInstitute/ShapeWorks
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/shapes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shapes, What & From Where?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/workflow.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shape Modeling Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/sw-stories.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ShapeWorks Success Stories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/interfaces.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ShapeWorks Interfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/examples.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/how-tos.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How-Tos
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    For Users
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            For Users
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/install.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Install ShapeWorks?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/citation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Cite ShapeWorks?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/papers.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Revelant Papers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Workflow
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Workflow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    How to Groom Your Dataset?
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="groom.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    How to Groom Your Dataset?
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-pre-processing-steps-for-segmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Common Pre-Processing Steps for Segmentations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Pre-Processing Steps for Segmentations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resampling-images-and-segmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Resampling images and segmentations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aligning-segmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Aligning segmentations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clip-segmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Clip segmentations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cropping-and-padding-segmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Cropping and padding segmentations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#converting-segmentations-to-smooth-signed-distance-transforms" class="md-nav__link">
    <span class="md-ellipsis">
      Converting segmentations to smooth signed distance transforms
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-pre-processing-steps-for-meshes" class="md-nav__link">
    <span class="md-ellipsis">
      Common Pre-Processing Steps for Meshes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Pre-Processing Steps for Meshes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reflect-meshes" class="md-nav__link">
    <span class="md-ellipsis">
      Reflect meshes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meshes-to-volumes" class="md-nav__link">
    <span class="md-ellipsis">
      Meshes to volumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remesh" class="md-nav__link">
    <span class="md-ellipsis">
      Remesh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aligning-meshes" class="md-nav__link">
    <span class="md-ellipsis">
      Aligning meshes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-shared-boundary" class="md-nav__link">
    <span class="md-ellipsis">
      Extract Shared Boundary
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extract Shared Boundary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-shapes-with-shared-surface" class="md-nav__link">
    <span class="md-ellipsis">
      Input shapes with shared surface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-extracted-surfaces" class="md-nav__link">
    <span class="md-ellipsis">
      Output extracted surfaces
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-contour" class="md-nav__link">
    <span class="md-ellipsis">
      Extract Contour
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smoothing" class="md-nav__link">
    <span class="md-ellipsis">
      Smoothing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Shape Model Optimization
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Shape Model Optimization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="optimize.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Optimize Your Shape Model?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="parameters.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimization Parameters
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="analyze.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Analyze Your Shape Model?
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    What is New?
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            What is New?
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../new/new-studio.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    New in ShapeWorks Studio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../new/openvdb.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ShapeWorks Takes ~85% Less Memory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../new/sw-meshes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ShapeWorks Directly on Meshes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../new/shapeworks-command.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ShapeWorks Command
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../new/ssm-eval.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shape Model Evaluation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../new/shapeworks-python.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ShapeWorks in Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../new/ellipsoid-joint-generation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ellipsoid Joint Generation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../new/ai-assisted-segmentation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Assisted Segmentation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ShapeWorks Studio
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            ShapeWorks Studio
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../studio/getting-started-with-studio.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../studio/studio-viewer.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Viewer Controls
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../studio/studio-export.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Export Options
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../studio/studio-data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../studio/studio-groom.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Groom Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../studio/studio-optimize.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimize Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../studio/studio-analyze.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analyze Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../studio/deepssm-in-studio.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DeepSSM Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../studio/multiple-domains.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multiple Domains SSM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../studio/studio-shared-boundary.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shared Boundaries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../studio/segmentation-tool.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Segmentation Tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../studio/ai-assisted-segmentation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Assisted Segmentation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ShapeWorks Cloud
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            ShapeWorks Cloud
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud/getting-started-with-cloud.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud/cloud-dataset.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Datasets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud/cloud-project.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Projects
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud/cloud-data-module.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud/cloud-groom-module.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Groom Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud/cloud-optimize-module.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimize Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud/cloud-analyze-module.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analyze Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud/cloud-shape-viewer.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shape Viewer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud/swcc.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ShapeWorks Cloud Client
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ShapeWorks Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            ShapeWorks Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/ShapeWorksCommands.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ShapeWorks Commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ShapeWorks in Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            ShapeWorks in Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/getting-started-with-notebooks.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with Jupyter Notebooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/getting-started-with-segmentations.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with Segmentations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/getting-started-with-meshes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with Meshes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/getting-started-with-exploring-segmentations.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with Exploring Segmentations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/getting-started-with-data-augmentation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with Data Augmentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/getting-started-with-shape-cohort-generation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with Shape Cohort Generator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/array-passing-without-copying.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Array passing without copying
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/create-and-apply-image-transforms.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transforms can be used to center image data or to align two images
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/create-and-apply-mesh-transforms.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transforms can also be used to align two meshes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deep Learning & SSMs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Deep Learning & SSMs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deep-learning/pytorch-gpu.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PyTorch GPU Support for ShapeWorks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deep-learning/data-augmentation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Augmentation for Deep Learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deep-learning/deep-ssm.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSMs Directly from Images
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Use Cases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Use Cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/use-cases.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with Use Cases
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_2" >
        
          
          <label class="md-nav__link" for="__nav_11_2" id="__nav_11_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Segmentation Based Use Cases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_2">
            <span class="md-nav__icon md-icon"></span>
            Segmentation Based Use Cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/segmentation-based/ellipsoid.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ellipsoid: Basic Example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/segmentation-based/left-atrium.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Left Atrium: Shape Model from Segmentations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/segmentation-based/ellipsoid-multiple-domain.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shape Model for Multiple Domains from Segmentations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_3" >
        
          
          <label class="md-nav__link" for="__nav_11_3" id="__nav_11_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Mesh Based Use Cases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_3">
            <span class="md-nav__icon md-icon"></span>
            Mesh Based Use Cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/mesh-based/ellipsoid_mesh.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ellipsoid Mesh: Basic Example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/mesh-based/lumps.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lumps: Shape Model directly from Mesh
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/mesh-based/thin-cavity-bean.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thin Cavity Bean: Shape Model with Geodesic Distances
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/mesh-based/ellipsoid-multiple-domain-mesh.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shape Model for Multiple Domains directly from Mesh
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/mesh-based/hip.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hip: Multiple Domains Alignment
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_4" >
        
          
          <label class="md-nav__link" for="__nav_11_4" id="__nav_11_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Contour Based Use Cases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_4">
            <span class="md-nav__icon md-icon"></span>
            Contour Based Use Cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/contour-based/supershapes-contour.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supershapes:Shape Model for Contour Domains
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_5" >
        
          
          <label class="md-nav__link" for="__nav_11_5" id="__nav_11_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Constraints Based Use Cases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_5">
            <span class="md-nav__icon md-icon"></span>
            Constraints Based Use Cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/constraint-based/ellipsoid-cutting-planes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ellipsoid: Shape Model with Cutting Planes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/constraint-based/femur-cutting-planes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Femur:Shape Model with Cutting Planes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/constraint-based/femur-cutting-planes-studio.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Studio Femur: Shape Model from Meshes with Cutting Planes Using Studio
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_6" >
        
          
          <label class="md-nav__link" for="__nav_11_6" id="__nav_11_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Multi-Step Optimization Use Cases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_6">
            <span class="md-nav__icon md-icon"></span>
            Multi-Step Optimization Use Cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/multistep/fixed-domain-ellipsoid.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fixed Domains Ellipsoid: Shape Model on New Shapes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/multistep/incremental_supershapes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Incremental Supershapes: Building a Shape Model Incrementally
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_7" >
        
          
          <label class="md-nav__link" for="__nav_11_7" id="__nav_11_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Statistics Based Use Cases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_7">
            <span class="md-nav__icon md-icon"></span>
            Statistics Based Use Cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/stats-based/ellipsoid-pca.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ellipsoid: Shape Statistics in Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/stats-based/femur-pvalues.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Femur: Group Difference Statistics in Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/stats-based/ellipsoid-evaluate.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ellipsoid: Shape Evaluation in Python
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_8" >
        
          
          <label class="md-nav__link" for="__nav_11_8" id="__nav_11_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deep Learning Based Use Cases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_8">
            <span class="md-nav__icon md-icon"></span>
            Deep Learning Based Use Cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/deep-learning-based/deep-ssm-femur.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Femur SSM Directly from Images
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_9" >
        
          
          <label class="md-nav__link" for="__nav_11_9" id="__nav_11_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Shared Boundary Use Cases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_9">
            <span class="md-nav__icon md-icon"></span>
            Shared Boundary Use Cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/shared-boundary-based/peanut.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Peanut:Shape Model of Multiple Domains with Shared Boundaries
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/right-ventricle.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Right Ventricle: Highly Variable Shapes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    For Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            For Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/onboarding.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Onboarding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/build.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Build ShapeWorks from Source?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/contribute.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Contribute to ShapeWorks?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/commands.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Add ShapeWorks Commands?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/python-apis.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Add Python APIs?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/tests.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Add and Run Unit Tests?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/new-use-case.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Add New Use Cases?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/new-notebook.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Add New Notebooks?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/docs.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with Documentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/gh-actions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with GitHub Actions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/markdown.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with Markdown
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/paths.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding to PATH Environment Variable
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/release-process.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Process
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/python-api.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python API Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    C++ API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            C++ API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/shapeworks-library.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ShapeWorks as a Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/Modules/index_groups.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Groups
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/Namespaces/index_namespaces.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Namespaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/Classes/index_classes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Classes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/Files/index_files.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Files
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Java/Matlab Interface
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            Java/Matlab Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../java/java.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java Interface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../java/matlab.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Matlab Interface
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/team.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Meet ShapeWorkers!
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/release-notes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/license.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/contact.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contact Us
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-pre-processing-steps-for-segmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Common Pre-Processing Steps for Segmentations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Pre-Processing Steps for Segmentations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resampling-images-and-segmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Resampling images and segmentations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aligning-segmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Aligning segmentations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clip-segmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Clip segmentations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cropping-and-padding-segmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Cropping and padding segmentations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#converting-segmentations-to-smooth-signed-distance-transforms" class="md-nav__link">
    <span class="md-ellipsis">
      Converting segmentations to smooth signed distance transforms
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-pre-processing-steps-for-meshes" class="md-nav__link">
    <span class="md-ellipsis">
      Common Pre-Processing Steps for Meshes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Pre-Processing Steps for Meshes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reflect-meshes" class="md-nav__link">
    <span class="md-ellipsis">
      Reflect meshes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meshes-to-volumes" class="md-nav__link">
    <span class="md-ellipsis">
      Meshes to volumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remesh" class="md-nav__link">
    <span class="md-ellipsis">
      Remesh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aligning-meshes" class="md-nav__link">
    <span class="md-ellipsis">
      Aligning meshes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-shared-boundary" class="md-nav__link">
    <span class="md-ellipsis">
      Extract Shared Boundary
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extract Shared Boundary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-shapes-with-shared-surface" class="md-nav__link">
    <span class="md-ellipsis">
      Input shapes with shared surface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-extracted-surfaces" class="md-nav__link">
    <span class="md-ellipsis">
      Output extracted surfaces
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-contour" class="md-nav__link">
    <span class="md-ellipsis">
      Extract Contour
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smoothing" class="md-nav__link">
    <span class="md-ellipsis">
      Smoothing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="how-to-groom-your-dataset">How to Groom Your Dataset?</h1>
<p>ShapeWorks needs suitable distance transforms or meshes for establishing shape correspondence. The groom stage has the pipeline to generate aligned distance transforms from binary segmentations or groomed meshes from unaligned meshes.  Common grooming steps are outlined below. For descriptions of the ShapeWorks commands used, see: <a href="http://sciinstitute.github.io/ShapeWorks/tools/ShapeWorksCommands.html">ShapeWorks Commands</a>.</p>
<h2 id="common-pre-processing-steps-for-segmentations">Common Pre-Processing Steps for Segmentations</h2>
<h3 id="resampling-images-and-segmentations">Resampling images and segmentations</h3>
<p>This grooming step resamples all the binary volumes, which in a raw setting could be in different physical spaces (different dimensions and voxel spacing). This grooming step brings all segmentations to the same voxel spacing, typically isotropic spacing (e.g., 1,1,1).</p>
<p>A smaller voxel spacing than the original spacing improves the resolution of the segmentations and reduces the aliasing (i.e., staircase) artifact resulting from the thresholding/binarization process. </p>
<div class="admonition note">
<p class="admonition-title">Resampling both images and segmentations</p>
<p>If your dataset contains both images (e.g., CTs, MRIs) and binary segmentations, it is recommended that resampling is performed on both to keep them aligned for subsequent analyses that might entail/need imaging data. </p>
</div>
<p>Since image resampling entails interpolation, directly resampling binary segmentations will not result in a binary segmentation, but rather an interpolated version that does not have two distinct labels (i.e., foreground and background).</p>
<p>To mitigate this behavior, we need first to convert the binary segmentations (with zero-one voxels) to a continuous-valued (gray-scale) image. This can be done by either antialiasing the segmentations, which smooths the foreground-background interface, or converting a segmentation to a signed distance transform, where each voxel encodes the physical distance to the closest surface point (zero-one interface) with the sign indicating whether the voxel is inside or outside the foreground region.</p>
<p>Here is a resampling pipeline example for binary segmentation that uses antialiasing:</p>
<ul>
<li><code>antialias</code> the binary segmentation to convert it to a smooth continuous-valued image</li>
<li><code>resample</code> the antialiased image using the same (and possible smaller) voxel spacing for all dimensions</li>
<li><code>binarize</code> (aka thresholding) the resampled image to results in a binary segmentation with the desired voxel spacing</li>
</ul>
<p>Here is an example of resampling an ellipsoid with spacing (1,1,2) to have spacing (1,1,1):</p>
<p><div class="highlight"><pre><span></span><code><span class="n">antialias_iterations</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">shape_seg</span>            <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">in_shape_filename</span><span class="p">)</span>

<span class="n">shape_seg</span><span class="o">.</span><span class="n">antialias</span><span class="p">(</span><span class="n">antialias_iterations</span><span class="p">)</span>
<span class="n">shape_seg</span><span class="o">.</span><span class="n">resample</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">sw</span><span class="o">.</span><span class="n">InterpolationType</span><span class="o">.</span><span class="n">Linear</span><span class="p">)</span>
<span class="n">shape_seg</span><span class="o">.</span><span class="n">binarize</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">out_shape_filename</span><span class="p">)</span>
</code></pre></div>
<img alt="Resample example" src="../img/workflow/resampling.png" /></p>
<div class="admonition note">
<p class="admonition-title">Resampling images</p>
<p>Images are already given as a continued-valued grid of pixels. Hence, images can be directly resampled without any pre- or post-processing steps.</p>
</div>
<p><em>Resampling images reduces pixelation and smooths out intensity noise.</em> <br />
<img alt="Isoresampling for images" src="../img/new/isoresample_img.png" /></p>
<p><em>Resampling segmentations smooths out shape boundaries and reduces binarization aliasing.</em>
<img alt="Isoresampling for segmentations" src="../img/new/isoresample_seg.png" /></p>
<h3 id="aligning-segmentations">Aligning segmentations</h3>
<p>Rigidly aligning a cohort of shapes entails removing differences across these shapes pertaining to global transformations, i.e., translation and rotation. This step requires a reference coordinate frame to align all shapes to, where one of the shapes can be selected as a reference.</p>
<p>Rigid alignment (aka registration) is an optimization process that might get stuck in a bad local minima if shapes are significantly out of alignment. To bring shapes closer, we can remove translation differences using center-of-mass alignment. This factors out translations to reduce the risk of misalignment and allow for a medoid sample to be automatically selected as the reference for subsequent rigid alignment.</p>
<div class="admonition note">
<p class="admonition-title">Applying transformation to segmentations</p>
<p>Applying a transformation to segmentations entails interpolation due to image resampling in the new coordinate frame. Similar to the resampling workflow, we will first antialias the segmentation to convert it to a continuous-valued image with a smooth foreground-background interface, then apply the transformation, and finally binarize the tranformed image.</p>
</div>
<p>Hence, the shapes alignment pipeline includes the following steps:</p>
<ul>
<li><em>Center-of-mass alignment for segmentations:</em> <ul>
<li><code>antialias</code> the binary segmentation to convert it to a smooth continuous-valued image</li>
<li><code>translate</code> the binary segmentation so that the center of the image doamin is the center of mass of the shape.</li>
<li><code>binarize</code> (aka thresholding) to get a binary segmentation</li>
</ul>
</li>
<li>
<p><code>recenter</code> moves the center of the image (which is now the center of mass) to (0,0,0)</p>
</li>
<li>
<p><em>Reference shape selection:</em> One option for a reference is to select the shape that is closest to all other samples in the given cohort, i.e., the medoid shape. If shape instances are misaligned (i.e., do not share the same coordinate frame), translational and rotational differences should be factored out before reference selection.</p>
<ul>
<li>Use the pymodule function <code>find_reference_image_index</code> that perform pairwise rigid registration using the iterative closest point method and selects the sample that is closest to all other samples after factoring out global transformation differences.
<!-- computes the mean shape, computes the distance to mean shape, select the shape sample that is closest to the mean shape and returns it's index.--></li>
</ul>
</li>
<li>
<p><em>Rigid alignment:</em></p>
<ul>
<li><code>antialias</code> the binary segmentation and reference to convert them to a smooth continuous-valued image</li>
<li><code>createTransform</code>: compute the rigid transformation parameters that would align a segmentation 
to the reference shape</li>
<li><code>applyTransform</code>: apply the rigid transformation to the segmentation and make it have the same cooridnate system as the reference </li>
<li><code>binarize</code> (aka thresholding) to get a binary segmentation</li>
</ul>
</li>
</ul>
<p>Here is an example of performing center of mass alignment on one ellipsoid:</p>
<div class="highlight"><pre><span></span><code><span class="n">shape_seg</span>            <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">in_shape_filename</span><span class="p">)</span>
<span class="n">antialias_iterations</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">translation_vector</span>   <span class="o">=</span>  <span class="n">shape_seg</span><span class="o">.</span><span class="n">center</span><span class="p">()</span> <span class="o">-</span> <span class="n">shape_seg</span><span class="o">.</span><span class="n">centerOfMass</span><span class="p">()</span> 

<span class="n">shape_seg</span><span class="o">.</span><span class="n">antialias</span><span class="p">(</span><span class="n">antialias_iterations</span><span class="p">)</span>
         <span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">translation_vector</span><span class="p">)</span>
         <span class="o">.</span><span class="n">binarize</span><span class="p">()</span><span class="o">.</span><span class="n">recenter</span><span class="p">()</span>
         <span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">out_shape_filename</span><span class="p">)</span>
</code></pre></div>
<p><img alt="Center of mass alignment example" src="../img/workflow/com.png" /></p>
<p><video src="https://sci.utah.edu/~shapeworks/doc-resources/mp4s/nb-groom-com-pv.mp4" autoplay muted loop controls style="width:100%"></p>

<p>Finding the reference:</p>
<div class="highlight"><pre><span></span><code><span class="n">ref_index</span> <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">find_reference_image_index</span><span class="p">(</span><span class="n">shape_seg_list</span><span class="p">)</span>
<span class="n">ref_seg</span>   <span class="o">=</span> <span class="n">shape_seg_list</span><span class="p">[</span><span class="n">ref_index</span><span class="p">]</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;reference.nrrd&#39;</span><span class="p">)</span>
</code></pre></div>
<p><img alt="Reference selection example" src="../img/workflow/ref.png" /></p>
<p>Rigid alignment:</p>
<div class="highlight"><pre><span></span><code><span class="n">antialias_iterations</span> <span class="o">=</span> <span class="mi">30</span>

<span class="n">ref_seg</span>    <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">ref_shape_filename</span><span class="p">)</span>
<span class="n">shape_seg</span>  <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">in_shape_filename</span><span class="p">)</span>

<span class="n">ref_seg</span><span class="o">.</span><span class="n">antialias</span><span class="p">(</span><span class="n">antialias_iterations</span><span class="p">)</span>
<span class="n">shape_seg</span><span class="o">.</span><span class="n">antialias</span><span class="p">(</span><span class="n">antialias_iterations</span><span class="p">)</span>

<span class="n">iso_value</span>      <span class="o">=</span> <span class="mf">1e-20</span>
<span class="n">icp_iterations</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">rigidTransform</span> <span class="o">=</span> <span class="n">shape_seg</span><span class="o">.</span><span class="n">createTransform</span><span class="p">(</span><span class="n">ref_seg</span><span class="p">,</span> <span class="n">sw</span><span class="o">.</span><span class="n">TransformType</span><span class="o">.</span><span class="n">IterativeClosestPoint</span><span class="p">,</span> <span class="n">iso_value</span><span class="p">,</span> <span class="n">icp_iterations</span><span class="p">)</span>

<span class="n">shape_seg</span><span class="o">.</span><span class="n">applyTransform</span><span class="p">(</span><span class="n">rigidTransform</span><span class="p">,</span>
                         <span class="n">ref_seg</span><span class="o">.</span><span class="n">origin</span><span class="p">(),</span>  <span class="n">ref_seg</span><span class="o">.</span><span class="n">dims</span><span class="p">(),</span>
                         <span class="n">ref_seg</span><span class="o">.</span><span class="n">spacing</span><span class="p">(),</span> <span class="n">ref_seg</span><span class="o">.</span><span class="n">coordsys</span><span class="p">(),</span>
                         <span class="n">sw</span><span class="o">.</span><span class="n">InterpolationType</span><span class="o">.</span><span class="n">Linear</span><span class="p">)</span>

<span class="n">shape_seg</span><span class="o">.</span><span class="n">binarize</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">out_shape_filename</span><span class="p">)</span>
</code></pre></div>
<p><img alt="Rigid alignment example" src="../img/workflow/rigid.png" /></p>
<p><video src="https://sci.utah.edu/~shapeworks/doc-resources/mp4s/nb-groom-align.mp4" autoplay muted loop controls style="width:100%"></p>

<h3 id="clip-segmentations">Clip segmentations</h3>
<p>In some cases, binary segmentations need to be clipped with a cutting plane so that only the desired part of the shape is reflected in the shape model. To perform this step, you can use <code>clip</code> defined the cutting plane defined using three points.</p>
<p>Example of clipping:</p>
<div class="highlight"><pre><span></span><code><span class="n">shape_seg</span>            <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">in_shape_filename</span><span class="p">)</span>
<span class="n">cutting_plane_point_1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">cutting_plane_point_2</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">cutting_plane_point_3</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="n">shape_seg</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">cutting_plane_point_1</span><span class="p">,</span>
               <span class="n">cutting_plane_point_2</span><span class="p">,</span>
               <span class="n">cutting_plane_point_3</span><span class="p">,</span><span class="err">!</span><span class="p">[](</span><span class="err">!</span><span class="p">[](</span><span class="err">!</span><span class="p">[]()))</span>
              <span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">out_shape_filename</span><span class="p">)</span>
</code></pre></div>
<p><img alt="RClip segmentation example" src="../img/workflow/clip.png" /></p>
<h3 id="cropping-and-padding-segmentations">Cropping and padding segmentations</h3>
<p>In many cases, image boundaries are not tight around shapes. This leaves too much irrelevant background voxels that might increase the memory footprint when optimizing the shape model. We can remove this irrelevant background while keeping our segmentations intact and avoid cropped segmentations to touch image boundaries, which results in artifical holes in the shape boundary and does not allow particles to be distributed in regions touching the image boundary. </p>
<p>This cropping and padding step entails the following steps:</p>
<ul>
<li><code>ImageUtils.boundingBox</code>: computes the smallest bounding box (ShapeWorks region) that fits all segmentations in the given shape cohort. Note that this step should be applied to at segmentations that share the same coordinate frame (i.e., aligned)</li>
<li><code>crop</code> the segmentation using the computed bounding box</li>
<li><code>pad</code> the cropped segmentation to ensure the shape is not touching the image boundary</li>
</ul>
<p>Example of cropping and padding:</p>
<p><div class="highlight"><pre><span></span><code><span class="n">iso_value</span>         <span class="o">=</span> <span class="mf">0.5</span> <span class="c1"># a threshold value between 0 and 1 for binary segmentations</span>
<span class="n">padding_size</span>      <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># number of voxels to pad for each dimension</span>
<span class="n">padding_value</span>     <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># the constant value used to pad the segmentations</span>

<span class="n">segs_bounding_box</span> <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">ImageUtils</span><span class="o">.</span><span class="n">boundingBox</span><span class="p">(</span><span class="n">shape_seg_list</span><span class="p">,</span> <span class="n">iso_value</span><span class="p">)</span>
<span class="n">shape_seg</span>         <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">in_shape_filename</span><span class="p">)</span>

<span class="n">shape_seg</span><span class="o">.</span><span class="n">crop</span><span class="p">(</span><span class="n">segs_bounding_box</span><span class="p">)</span>
         <span class="o">.</span><span class="n">pad</span><span class="p">(</span><span class="n">padding_size</span><span class="p">,</span> <span class="n">padding_value</span><span class="p">)</span>
         <span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">out_shape_filename</span><span class="p">)</span>
</code></pre></div>
<img alt="Cropping and padding example" src="../img/workflow/crop.png" /></p>
<h3 id="converting-segmentations-to-smooth-signed-distance-transforms">Converting segmentations to smooth signed distance transforms</h3>
<p>For numerical computations for correspondences optimization, we need to convert binary segmentations to a continuous-valued image that satisfies the following requirements.</p>
<ul>
<li>smooth for gradient updates stability</li>
<li>reflect the shape's surface (i.e., foreground-background) interface</li>
<li>provide a signal for the particle to snap (move back) to the surface in case particles gets off the surface during optimization, which is a typical scenario when using gradient descent based optimization</li>
</ul>
<p>An antialiased segmentation satisfies the first two requirements. However, if a particles leaves the surface (i.e., the zero-level set) during model optimization, which is typical in gradient descent based optimization, it would be challenging to snap it back to the surface.</p>
<p>A representation that satisfies all the requirements is the <em>signed distance transform</em>. </p>
<ul>
<li>A signed distance transform assigns to each voxel the physical distance to the closest point on the surface (i.e., the minimum distance from that voxel to nearest voxel on the foreground-background interface).</li>
<li>The sign is used to indicate whether that voxel is inside or outside the foreground object.</li>
<li>The zero-level set (zero-distance to the surface) indicates the foreground-background interface (i.e., the shape's surface).</li>
<li>The gradient of a signed distance transform at a voxels indicates what direction to move in from that voxels to most rapidly increase the value of this distance. Hence, we can use the negative of this gradient as a signal to move a particle back to the surface.</li>
</ul>
<p>The <code>computeDT</code> API needs an <code>iso_value</code> that defines the foreground-background interface. To create  a smoother interface, we first antialias the segmentation then compute the distance transform at the zero-level set. We then need to smooth the DT as it will have some remaining aliasing effect of binarization. </p>
<p>So the steps are:</p>
<ul>
<li><code>antialias</code> the binary segmentation to convert it to a smooth continuous-valued image</li>
<li><code>computeDT</code>: Compute distance transform</li>
<li><code>gaussianBlur</code>: Apply smoothing by convolving the image with a 3D gaussian filter with a given sigma (in physical coordinates)</li>
<li>Save the distance transform</li>
</ul>
<p><div class="highlight"><pre><span></span><code><span class="n">iso_value</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">sigma</span>     <span class="o">=</span> <span class="mf">1.3</span>

<span class="n">shape_seg</span> <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">in_shape_filename</span><span class="p">)</span>

<span class="n">shape_seg</span><span class="o">.</span><span class="n">antialias</span><span class="p">(</span><span class="n">antialias_iterations</span><span class="p">)</span>
         <span class="o">.</span><span class="n">computeDT</span><span class="p">(</span><span class="n">iso_value</span><span class="p">)</span>
         <span class="o">.</span><span class="n">gaussianBlur</span><span class="p">(</span><span class="n">sigma</span><span class="p">)</span>
         <span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">out_shape_filename</span><span class="p">)</span>
</code></pre></div>
<img alt="Distance transform example" src="../img/workflow/dt.png" /></p>
<p><em>Gaussian blur with a small sigma. Note aliasing left-overs!</em></p>
<p><video src="https://sci.utah.edu/~shapeworks/doc-resources/mp4s/nb-groom-dt-smooth-small-sigma2.mp4" autoplay muted loop controls style="width:100%"></p>

<p><em>Gaussian blur with a larger sigma. Note a smooth surface.</em></p>
<p><video src="https://sci.utah.edu/~shapeworks/doc-resources/mp4s/nb-groom-dt-smooth.mp4" autoplay muted loop controls style="width:100%"></p>

<div class="admonition note">
<p class="admonition-title">Caution when using Gaussian blur</p>
<p>The <code>gaussianBlur</code> method could be use for blobby-like structures. However, for shapes with thin features and high curvature regions, the gaussian blurring method could impact the underlying geometrical features. For these shapes, topology-preserving smoothing is recommended. Topology-preserving smoothing is currently under developement and will be released soon.</p>
</div>
<h2 id="common-pre-processing-steps-for-meshes">Common Pre-Processing Steps for Meshes</h2>
<h3 id="reflect-meshes">Reflect meshes</h3>
<p>It is common in medical imaging data to have a left and right anatomy. To align and model all such shapes, we must reflect some meshes so that all are oriented the same.</p>
<ul>
<li><code>reflect</code>: reflects the mesh across the given axis (typically x-axis for anatomy)</li>
</ul>
<p>Here is an example of reflecting a mesh:</p>
<div class="highlight"><pre><span></span><code><span class="n">shape_mesh</span> <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">Mesh</span><span class="p">(</span><span class="n">in_mesh_filename</span><span class="p">)</span>
<span class="n">shape_mesh</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">sw</span><span class="o">.</span><span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">out_mesh_filename</span><span class="p">)</span>
</code></pre></div>
<p><img alt="Reflect mesh example" src="../img/workflow/reflect.png" /></p>
<h3 id="meshes-to-volumes">Meshes to volumes</h3>
<p>Meshes can be converted to binary segmentations if desired so that grooming can be done on segmentations and optimization on distance transforms. </p>
<p>The steps to convert meshes to volumes are:</p>
<ul>
<li><code>toImage</code> convert the mesh to a signed distance transform</li>
<li><code>binarize</code> (aka thresholding) to get a binary segmentation</li>
</ul>
<p>Example of turning a mesh to a segmentation:</p>
<div class="highlight"><pre><span></span><code><span class="n">shape_mesh</span> <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">Mesh</span><span class="p">(</span><span class="n">in_mesh_filename</span><span class="p">)</span>
<span class="n">shape_seg</span>  <span class="o">=</span> <span class="n">shape_mesh</span><span class="o">.</span><span class="n">toImage</span><span class="p">()</span>
                       <span class="o">.</span><span class="n">binarize</span><span class="p">()</span>
                       <span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">out_shape_filename</span><span class="p">)</span>
</code></pre></div>
<p><img alt="Mesh to volume example" src="../img/workflow/mesh2seg.png" /></p>
<p>For list of commands, check out <a href="http://sciinstitute.github.io/ShapeWorks/tools/ShapeWorksCommands.html">ShapeWorks Commands</a></p>
<h3 id="remesh">Remesh</h3>
<p>Remeshing creates meshes with evenly spaced vertices. 
- <code>remeshPercent</code> remeshes the mesh to have a given percent of the current number of vertices</p>
<p><div class="highlight"><pre><span></span><code><span class="n">mesh</span><span class="o">.</span><span class="n">remeshPercent</span><span class="p">(</span><span class="n">percentage</span><span class="o">=</span><span class="mf">0.80</span><span class="p">,</span> <span class="n">adaptivity</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
</code></pre></div>
<img alt="Remeshing" src="https://sci.utah.edu/~shapeworks/doc-resources/pngs/remeshing.png" /></p>
<h3 id="aligning-meshes">Aligning meshes</h3>
<p>Rigidly aligning a cohort of shapes entails removing differences across these shapes pertaining to global transformations, i.e., translation and rotation. This step requires a reference coordinate frame to align all shapes to, where one of the shapes can be selected as a reference.</p>
<p>Hence, the shapes alignment pipeline includes the following steps:</p>
<ul>
<li><em>Reference shape selection:</em> One option for a reference is to select the shape that is closest to all other samples in the given cohort, i.e., the medoid shape. If shape instances are misaligned (i.e., do not share the same coordinate frame), translational and rotational differences should be factored out before reference selection.</li>
<li>
<p>Use the pymodule function <code>find_reference_mesh_index</code> that perform pairwise rigid registration using the iterative closest point method and selects the sample that is closest to all other samples after factoring out global transformation differences.
  <!-- computes the mean shape, computes the distance to mean shape, select the shape sample that is closest to the mean shape and returns it's index.-->
</p>
</li>
<li>
<p><em>Rigid alignment:</em></p>
</li>
<li><code>createTransform</code>: compute the rigid transformation parameters that would align a segmentation 
    to the reference shape</li>
<li><code>applyTransform</code>: apply the rigid transformation to the segmentation and make it have the same cooridnate system as the reference </li>
</ul>
<p>Here is an example of performing reference selection and rigid alignment on a list of meshes:</p>
<p><div class="highlight"><pre><span></span><code><span class="c1"># reference selection </span>
<span class="n">ref_index</span> <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">find_reference_mesh_index</span><span class="p">(</span><span class="n">mesh_list</span><span class="p">)</span>
<span class="n">ref_mesh</span> <span class="o">=</span> <span class="n">mesh_list</span><span class="p">[</span><span class="n">ref_index</span><span class="p">]</span>
<span class="c1"># align all meshes in the list to the reference </span>
<span class="k">for</span> <span class="n">mesh</span> <span class="ow">in</span> <span class="n">mesh_list</span><span class="p">:</span>
    <span class="c1"># compute rigid transformation</span>
    <span class="n">rigid_transform</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">createTransform</span><span class="p">(</span><span class="n">ref_mesh</span><span class="p">,</span> <span class="n">sw</span><span class="o">.</span><span class="n">Mesh</span><span class="o">.</span><span class="n">AlignmentType</span><span class="o">.</span><span class="n">Rigid</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="c1"># apply rigid transform</span>
    <span class="n">mesh</span><span class="o">.</span><span class="n">applyTransform</span><span class="p">(</span><span class="n">rigid_transform</span><span class="p">)</span>
</code></pre></div>
<img alt="Mesh alignment" src="https://sci.utah.edu/~shapeworks/doc-resources/pngs/mesh_alignment.png" /></p>
<h3 id="extract-shared-boundary">Extract Shared Boundary</h3>
<p>In this step, we ingest the two original shapes and the output consists of three new shapes, two of which correspond to the original shapes and one for the shared boundary. Let us designate the original meshes as Lo and Ro. Then:</p>
<ol>
<li>Find all the triangles in Lo that are close to Ro, and construct a mesh with these triangles called Ls. A triangle with vertices v0, v1 and v2 is considered close to a mesh if the shortest euclidean distance to the mesh for all the three vertices is below a small threshold. We similarly find all the triangles in Ro that are close to Lo and designate this mesh as Rs</li>
<li>Find the remainder of the mesh in Lo after removing the triangles in Ls and designate this as Lr. Similarly, we find the remainder of the mesh in Ro after removing the triangles in Rs and designate this as Rr.</li>
<li>Arbitrary designed Rs as the shared surface M.</li>
<li>Snap all the points on the boundary loop of Lr to the boundary loop of M</li>
<li>Return three new shapes Lr, M and Rr</li>
</ol>
<div class="highlight"><pre><span></span><code> <span class="n">extracted_l</span><span class="p">,</span><span class="n">extracted_r</span><span class="p">,</span><span class="n">extracted_s</span> <span class="o">=</span> 
 <span class="n">sw</span><span class="o">.</span><span class="n">MeshUtils</span><span class="o">.</span><span class="n">sharedBoundaryExtractor</span><span class="p">(</span><span class="n">mesh_l</span><span class="p">,</span><span class="n">mesh_r</span><span class="p">,</span><span class="n">tol</span><span class="p">)</span>
</code></pre></div>
<h4 id="input-shapes-with-shared-surface">Input shapes with shared surface</h4>
<p><img alt="Shared Boundary Input" src="../img/workflow/peanut_shared_input.png" /></p>
<h4 id="output-extracted-surfaces">Output extracted surfaces</h4>
<p><img alt="Shared Boundary Output" src="../img/workflow/peanut_shared_output.png" /></p>
<h3 id="extract-contour">Extract Contour</h3>
<p>The boundary loop of the shared surface M obtained using the <code>sharedBoundaryExtractor</code> is computed. 
<div class="highlight"><pre><span></span><code><span class="n">output_contour</span> <span class="o">=</span> <span class="n">sw</span><span class="o">.</span><span class="n">MeshUtils</span><span class="o">.</span><span class="n">boundaryLoopExtractor</span><span class="p">(</span><span class="n">extracted_shared_meshes</span><span class="p">)</span>
</code></pre></div>
<img alt="Shared Surface Contour" src="../img/workflow/peanut_shared_contour.png" /></p>
<h3 id="smoothing">Smoothing</h3>
<p>Laplacian Smoothing allows you to reduce noise on a meshs surface with minimal changes to its shape.The effect is to "relax" the mesh, making the cells better shaped and the vertices more evenly distributed.
<div class="highlight"><pre><span></span><code><span class="n">mesh</span><span class="o">.</span><span class="n">smooth</span><span class="p">(</span><span class="n">iterations</span><span class="p">,</span> <span class="n">relaxation</span><span class="p">)</span>
</code></pre></div>
<img alt="Mesh Smoothing" src="../img/workflow/femur_smooth.png" /></p>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright  1998 - 2024 Scientific Computing and Imaging Institute. All rights reserved. This project is supported by the National Institutes of Health under grant numbers NIBIB-U24EB029011, NIAMS-R01AR076120, NHLBI-R01HL135568, and NIBIB-R01EB016701. Software maintenance and support are provided within the funding period.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../assets/mathjaxhelper.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>